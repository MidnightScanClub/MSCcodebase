%
% Name:README_Parcellation.txt
% $Revision: 1.1 $
% $Date: 2015/08/20 20:25:27 $

The scripts in the Parcellation directory are the current deployment version of many of the scripts
used for generating gradient-based parcellations of resting state data. You can launch
matlab with a link to these routines by just typing Parcellation from your analysis directory or
alternatively you can create links to these routines by typing the following in your analysis
directory:
	ln -s /data/cn/data1/scripts/CIFTI_RELATED/Parcellation/surface_parcellation.m
for each of the scripts you need to run. Then you can launch matlab in that directory. In this later
case, there are several support m-scripts you will also need to link to.


ROUTINES:

1. surface_parcellation(cohortfile,tmasklist,subsample,dosubcort,outputdir)
	Generates gradient-based parcellation on surface registered subject data in cifti format.
	This version of surface parcellation will average gradient data across subjects to 
	generate a mean gradient and edge map for the group. See the help file in matlab for the
	routine for more information and examples in the inputs.

	INPUTS:
		cohortfile - This file must include a list of the subject names, the full path of the
				surface-mapped cifti functional data to be parcellated, and the
				directory where the subject's surface is (as generated by 
				Freesurfer and registered to fs_LR space). There will be a line for
				each subject in the following format:
				subjectname  cifti  file
		tmasklist   - This file must include a list of subject names and the full path to 
				each subject's tmask file, a binary text file of length #timepoints
				indicating timepoints to include (1) or censor (0).				  
		subsample   - The subsampling of maps to run the gradient on.
		dosubcort   - 1 to parcellate subcortical structures; else 0
		outputdir   - Folder to write results into. Leave empty to use working directory.

2. parcel_creator_cifti(edgeciftiname,filestem,threshperc)
Generate discrete parcels from a boundary map cifti file created by the surface_parcellation
function.

	INPUTS:
		edgeciftiname - Name of the boundary map.
		filestem      - Output name of the parcels.
		threshperc    - The threshold for merging neighboring parcels.
				See the matlab help file for this function for more information.


                              ==============================
The vast majority of scripts and programs discussed here have been developed by others in the
Petersen/Schlaggar Lab. Any comments, suggestions, additions and corrections for this specific
document would be appreciated and should be addressed to fran@npg.wustl.edu.
